<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Robot 6.0.2 (Python 3.10.11 on win32)" generated="20230707 10:07:32.668" rpa="false" schemaversion="3">
<suite id="s1" name="automationQA" source="C:\Users\george.paes_bazardoc\Documents\GitHub\automationQA">
<suite id="s1-s1" name="Tests" source="C:\Users\george.paes_bazardoc\Documents\GitHub\automationQA\tests">
<suite id="s1-s1-s1" name="Service" source="C:\Users\george.paes_bazardoc\Documents\GitHub\automationQA\tests\service">
<suite id="s1-s1-s1-s1" name="Retool" source="C:\Users\george.paes_bazardoc\Documents\GitHub\automationQA\tests\service\retool">
<suite id="s1-s1-s1-s1-s1" name="Reactivation" source="C:\Users\george.paes_bazardoc\Documents\GitHub\automationQA\tests\service\retool\reactivation.robot">
<test id="s1-s1-s1-s1-s1-t1" name="Cenário 1: Get Reactivation" line="8">
<kw name="Post request with x-api-key" library="retool_keywords">
<var>${post}</var>
<arg>type_name=ByPlanContemplationCarrego</arg>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Content-Type=application/json</arg>
<arg>x-api-key=${TOKEN}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20230707 10:07:34.467" level="INFO">${headers} = {'Content-Type': 'application/json', 'x-api-key': '1NrcncqyUG9oJ5hShJq0aafHfWcBWqFdPVBSpee6'}</msg>
<status status="PASS" starttime="20230707 10:07:34.466" endtime="20230707 10:07:34.467"/>
</kw>
<kw name="Load Json From File" library="JSONLibrary">
<var>${body}</var>
<arg>${BODY}[${type_name}]</arg>
<doc>Load JSON from file.</doc>
<msg timestamp="20230707 10:07:34.469" level="INFO">${body} = {'input': {'grupo': {'data_encerramento': '2032-06-05T00:00:00Z', 'adm': 'SANTANDER'}, 'valores_entrada': {'tipo': 'Transferencia', 'estrategia': 'CARREGO'}, 'cota': {'tipo_bem': 'IMOVEIS', 'grupo': '...</msg>
<status status="PASS" starttime="20230707 10:07:34.467" endtime="20230707 10:07:34.469"/>
</kw>
<if>
<branch type="IF" condition="&quot;${type_name}&quot; == &quot;ByPostPayment&quot;">
<kw name="Generate Boleto" library="utils">
<var>${boleto}</var>
<status status="NOT RUN" starttime="20230707 10:07:34.469" endtime="20230707 10:07:34.469"/>
</kw>
<kw name="Update Value To Json" library="JSONLibrary">
<var>${body}</var>
<arg>${body}</arg>
<arg>$.linha_digitavel</arg>
<arg>${boleto}</arg>
<doc>Update value to JSON using JSONPath</doc>
<status status="NOT RUN" starttime="20230707 10:07:34.469" endtime="20230707 10:07:34.469"/>
</kw>
<status status="NOT RUN" starttime="20230707 10:07:34.469" endtime="20230707 10:07:34.469"/>
</branch>
<status status="PASS" starttime="20230707 10:07:34.469" endtime="20230707 10:07:34.469"/>
</if>
<if>
<branch type="IF" condition="&quot;${type_name}&quot; == &quot;ByPlanContemplation&quot;">
<kw name="Generate uuid quota" library="utils">
<var>${cota_adm}</var>
<status status="NOT RUN" starttime="20230707 10:07:34.470" endtime="20230707 10:07:34.470"/>
</kw>
<kw name="Update Value To Json" library="JSONLibrary">
<var>${body}</var>
<arg>${body}</arg>
<arg>$.input.cota.cota_adm</arg>
<arg>${cota_adm}</arg>
<doc>Update value to JSON using JSONPath</doc>
<status status="NOT RUN" starttime="20230707 10:07:34.470" endtime="20230707 10:07:34.470"/>
</kw>
<kw name="Update Value To Json" library="JSONLibrary">
<var>${body}</var>
<arg>${body}</arg>
<arg>$.cota_adm</arg>
<arg>${cota_adm}</arg>
<doc>Update value to JSON using JSONPath</doc>
<status status="NOT RUN" starttime="20230707 10:07:34.470" endtime="20230707 10:07:34.470"/>
</kw>
<status status="NOT RUN" starttime="20230707 10:07:34.469" endtime="20230707 10:07:34.470"/>
</branch>
<status status="PASS" starttime="20230707 10:07:34.469" endtime="20230707 10:07:34.470"/>
</if>
<kw name="Create Session" library="RequestsLibrary">
<arg>alias=post_request</arg>
<arg>url=${BPM_BASE}</arg>
<arg>headers=${headers}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20230707 10:07:34.471" level="INFO">Creating Session using : alias=post_request, url=https://staging.bazardoconsorcio.com.br, headers={'Content-Type': 'application/json', 'x-api-key': '1NrcncqyUG9oJ5hShJq0aafHfWcBWqFdPVBSpee6'},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20230707 10:07:34.470" endtime="20230707 10:07:34.471"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>alias=post_request</arg>
<arg>url=${URI}[${type_name}]</arg>
<arg>json=${body}</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20230707 10:07:35.107" level="INFO">POST Request : url=https://hexa.bazar-sandbox.technology/plan_of_contemplation 
 path_url=/plan_of_contemplation 
 headers={'User-Agent': 'python-requests/2.28.2', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'x-api-key': '1NrcncqyUG9oJ5hShJq0aafHfWcBWqFdPVBSpee6', 'Content-Length': '1108'} 
 body=b'{"input": {"grupo": {"data_encerramento": "2032-06-05T00:00:00Z", "adm": "SANTANDER"}, "valores_entrada": {"tipo": "Transferencia", "estrategia": "CARREGO"}, "cota": {"tipo_bem": "IMOVEIS", "grupo": "3053", "cota_adm": "123SANTANDERteste3", "uuid_adm": "30118052", "contrato": "12313223", "cota": "1002"}, "data_transferencia": "2023-04-25T16:45:20Z", "fundo": "ATIVOS ESPECIAIS III", "cota_bem": {"data_info": "2023-05-05T00:00:00Z", "valor_bem": "283686.9"}, "cota_situacao": {"data_info": "2023-05-05T00:00:00Z", "situacao": "CANCELADA"}}, "decisao_manual": {"plano_bem": "TROCAR", "estrategia_final": "CONTEMPLACAO", "plano_lance": "LANCE"}, "cota": {"desembolso_total": "9324.85", "valor_do_bem_apos_troca": "184396.47", "com_troca_de_bem": true, "lance_grupo": 0.15}, "cota_adm": "123SANTANDERteste3", "created_at": "2023-05-25T17:09:44+00:00", "pdc": {"valor_recebimento": "47502.1342", "inflacao_mais": "0.126", "prazo": "3329", "cdi_prazo_cota": "0.124", "tir": "0.1954", "data_recebimento": "2032-06-05", "inflacao": "0.060958", "lucro": "38177.2842", "spread": "0.0636", "valor_lance": "1231.12"}}' 
 </msg>
<msg timestamp="20230707 10:07:35.107" level="INFO">POST Response : url=https://hexa.bazar-sandbox.technology/plan_of_contemplation 
 status=200, reason=OK 
 headers={'Content-Type': 'application/json', 'Content-Length': '676', 'Connection': 'keep-alive', 'Date': 'Fri, 07 Jul 2023 13:07:34 GMT', 'x-amzn-RequestId': 'cc5b4883-776f-435b-b67c-b37293f5f035', 'x-amzn-Remapped-content-length': '676', 'x-amz-apigw-id': 'HscjcEx0oAMFuwg=', 'X-Amzn-Trace-Id': 'Root=1-64a80e15-4650013501645b164600db52;Sampled=0;lineage=695d9c57:0', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 c757f7655359fcf8834f13953a30119a.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'GRU1-C1', 'X-Amz-Cf-Id': 'C8EMB4bXyUla5bFuY0b7-DWM_f8hYsH1-Eq6iqPtM2o1Tj8azeON4g=='} 
 body={"created_at":"2023-07-07T13:07:34.028805","modified_at":"2023-07-07T13:07:34.028817","deleted_at":null,"created_by":1,"modified_by":1,"deleted_by":null,"is_deleted":false,"plano_de_contemplacao_id":195,"cota_id":259,"estrategia_final":"CONTEMPLACAO","plano_bem":"TROCAR","plano_lance":"LANCE","tir":0.1954,"spread":0.0636,"lucro":38177.28,"data_plano_de_contemplacao":"2023-05-25T17:09:44","valid_from":"2023-07-07T13:07:34.028826","valid_to":null,"pdc_id":"123SANTANDERteste32023-05-25 17:09:44+00:00","prazo":3329,"situacao_cota":"A REATIVAR","desembolso_total":9324.85,"valor_lance":1231.12,"percentual_lance_total":0.15,"lance_embutido":null,"lance_recurso_proprio":null} 
 </msg>
<msg timestamp="20230707 10:07:35.108" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20230707 10:07:34.471" endtime="20230707 10:07:35.108"/>
</kw>
<msg timestamp="20230707 10:07:35.108" level="INFO">${post} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20230707 10:07:34.466" endtime="20230707 10:07:35.108"/>
</kw>
<kw name="Get request with x-api-key" library="retool_keywords">
<var>${resp}</var>
<arg>type_name=ByGetReactivation</arg>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Content-Type=application/json</arg>
<arg>x-api-key=${TOKEN}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20230707 10:07:35.109" level="INFO">${headers} = {'Content-Type': 'application/json', 'x-api-key': '1NrcncqyUG9oJ5hShJq0aafHfWcBWqFdPVBSpee6'}</msg>
<status status="PASS" starttime="20230707 10:07:35.109" endtime="20230707 10:07:35.109"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<arg>alias=get_request</arg>
<arg>url=${BPM_BASE}</arg>
<arg>headers=${headers}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20230707 10:07:35.109" level="INFO">Creating Session using : alias=get_request, url=https://staging.bazardoconsorcio.com.br, headers={'Content-Type': 'application/json', 'x-api-key': '1NrcncqyUG9oJ5hShJq0aafHfWcBWqFdPVBSpee6'},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20230707 10:07:35.109" endtime="20230707 10:07:35.110"/>
</kw>
<kw name="GET On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>alias=get_request</arg>
<arg>url=${URI}[${type_name}]</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<msg timestamp="20230707 10:07:35.515" level="INFO">GET Request : url=https://hexa.bazar-sandbox.technology/reactivation 
 path_url=/reactivation 
 headers={'User-Agent': 'python-requests/2.28.2', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'x-api-key': '1NrcncqyUG9oJ5hShJq0aafHfWcBWqFdPVBSpee6'} 
 body=None 
 </msg>
<msg timestamp="20230707 10:07:35.515" level="INFO">GET Response : url=https://hexa.bazar-sandbox.technology/reactivation 
 status=200, reason=OK 
 headers={'Content-Type': 'application/json', 'Content-Length': '39096', 'Connection': 'keep-alive', 'Date': 'Fri, 07 Jul 2023 13:07:34 GMT', 'x-amzn-RequestId': 'e3950188-8d90-4aed-8aea-c5b2fe5c56e4', 'x-amzn-Remapped-content-length': '39096', 'x-amz-apigw-id': 'HscjhEw4IAMFUtQ=', 'X-Amzn-Trace-Id': 'Root=1-64a80e16-2d8606a06262135b67084fc9;Sampled=0;lineage=695d9c57:0', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 72edd10a8060c70d07d0df3ad81cc712.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'GRU1-C1', 'X-Amz-Cf-Id': 'CL9_3wQLMpMz8h6b9JQRHs-vDvotgjnXu7ZFm6qddECiKjTq3BWdmQ=='} 
 body=[{"gestao_reativacao_id":239,"cota_id":103,"cota_adm":"4000403669-1202400PORTO_SEGURO","grupo":"PF111","contrato":"4000169402","data_de_transferencia":"2022-08-16T00:00:00","short_name":"PORTO_SEGURO","fundo_desc":"ATIVOS ESPECIAIS II - F.INVEST.DIR.CRED","num_cota_atual":"35","versao_cota_atual":null,"num_cota_reativacao":"123","versao_cota_reativacao":null,"reativacao_solicitada":true,"data_solicitacao":"2023-06-30T14:46:17.348000","feedback_adm":true,"data_feedback_adm":"2023-06-30T19:12:32.435000","reativacao_efetivada":false,"data_reativacao":null,"data_primeira_solicitacao":"2023-06-19","numero_tentativa":2,"valor_reativacao":null,"motivo":null,"valid_to":null,"valid_from":"2023-07-06T18:12:57.888043","gestao_code":"2a943de5-007f-4493-b7b1-409c8513ac11","status_type_gestao_reativacao_id":7,"reativacao_status_type_desc":"ERRO NO PAGAMENTO","boleto_id":339,"boleto_type_id":4,"linha_digitavel":"34658156334182716777905290060002794170000083786","data_vencimento":"2023-07-20T00:00:00","valor":837.86,"data_pagamento":null,"valor_pago":null,"status_type_boleto_id":3,"boleto_status_type_desc":"ERRO NO PAGAMENTO","type_desc":"REATIVACAO","payment_desc":"GESTAO DE REATIVACOES"},{"gestao_reativacao_id":239,"cota_id":103,"cota_adm":"4000403669-1202400PORTO_SEGURO","grupo":"PF111","contrato":"4000169402","data_de_transferencia":"2022-08-16T00:00:00","short_name":"PORTO_SEGURO","fundo_desc":"ATIVOS ESPECIAIS II - F.INVEST.DIR.CRED","num_cota_atual":"35","versao_cota_atual":null,"num_cota_reativacao":"123","versao_cota_reativacao":null,"reativacao_solicitada":true,"data_solicitacao":"2023-06-30T14:46:17.348000","feedback_adm":true,"data_feedback_adm":"2023-06-30T19:12:32.435000","reativacao_efetivada":false,"data_reativacao":null,"data_primeira_solicitacao":"2023-06-19","numero_tentativa":2,"valor_reativacao":null,"motivo":null,"valid_to":null,"valid_from":"2023-07-06T18:03:29.005873","gestao_code":"2a943de5-007f-4493-b7b1-409c8513ac11","status_type_gestao_reativacao_id":7,"reativacao_status_type_desc":"ERRO NO PAGAMENTO","boleto_id":258,"boleto_type_id":2,"linha_digitavel":"35296791234452743458905290060002794020000083786","data_vencimento":"2023-07-05T00:00:00","valor":837.86,"data_pagamento":null,"valor_pago":null,"status_type_boleto_id":1,"boleto_status_type_desc":"PAGAMENTO SOLICITADO","type_desc":"MULTA-JUROS","payment_desc":"GESTAO DE REATIVACOES"},{"gestao_reativacao_id":248,"cota_id":221,"cota_adm":"15144VOLKSWAGEN","grupo":"40687","contrato":"101","data_de_transferencia":"2023-04-25T16:45:20","short_name":"VOLKSWAGEN","fundo_desc":"ATIVOS ESPECIAIS III - F.INVEST.DIR.CRED","num_cota_atual":"9","versao_cota_atual":null,"num_cota_reativacao":"5","versao_cota_reativacao":"00","reativacao_solicitada":false,"data_solicitacao":"2023-03-06T00:00:00","feedback_adm":false,"data_feedback_adm":"2023-03-06T00:00:00","reativacao_efetivada":false,"data_reativacao":"2023-03-06T00:00:00","data_primeira_solicitacao":"2023-07-05","numero_tentativa":1,"valor_reativacao":766.0,"motivo":null,"valid_to":null,"valid_from":"2023-07-05T14:43:41.218687","gestao_code":"f388f7d8-cdcf-4c52-a4b4-91abda46f741","status_type_gestao_reativacao_id":1,"reativacao_status_type_desc":"SOLICITAR REATIVACAO","boleto_id":286,"boleto_type_id":4,"linha_digitavel":"34155856337641343458905290060002794150000083786","data_vencimento":"2023-07-18T00:00:00","valor":837.86,"data_pagamento":null,"valor_pago":null,"status_type_boleto_id":2,"boleto_status_type_desc":"PAGAMENTO CONFIRMADO","type_desc":"REATIVACAO","payment_desc":"GESTAO DE REATIVACOES"},{"gestao_reativacao_id":247,"cota_id":55,"cota_adm":"30027073SANTANDER","grupo":"3047","contrato":"30057015","data_de_transferencia":"2023-02-13T00:00:00","short_name":"SANTANDER","fundo_desc":"ATIVOS ESPECIAIS III - F.INVEST.DIR.CRED","num_cota_atual":"55123","versao_cota_atual":null,"num_cota_reativacao":"5","versao_cota_reativacao":"00","reativacao_solicitada":false,"data_solicitacao":"2023-03-06T00:00:00","feedback_adm":false,"data_feedback_adm":"2023-03-06T00:00:00","reativacao_efetivada":false,"data_reativacao":"2023-03-06T00:00:00","data_primeira_solicitacao":"2023-06-30","numero_tentativa":1,"valor_reativacao":766.0,"motivo":null,"valid_to":null,"valid_from":"2023-06-30T22:05:11.544652","gestao_code":"5555e5db-5f87-4e5c-8a84-ced5d53f521e","status_type_gestao_reativacao_id":1,"reativacao_status_type_desc":"SOLICITAR REATIVACAO","boleto_id":274,"boleto_type_id":4,"linha_digitavel":"03399835875320000004944157501014294070000055735","data_vencimento":"2023-07-10T00:00:00","valor":557.35,"data_pagamento":null,"valor_pago":null,"status_type_boleto_id":5,"boleto_status_type_desc":"SOLICITAR PAGAMENTO","type_desc":"REATIVACAO","payment_desc":"GESTAO DE REATIVACOES"},{"gestao_reativacao_id":192,"cota_id":159,"cota_adm":"123SANTANDERtestes","grupo":"3053","contrato":"12313223","data_de_transferencia":"2023-04-25T16:45:20","short_name":"SANTANDER","fundo_desc":"ATIVOS ESPECIAIS III - F.INVEST.DIR.CRED","num_cota_atual":"1001","versao_cota_atual":null,"num_cota_reativacao":null,"versao_cota_reativacao":null,"reativacao_solicitada":false,"data_solicitacao":null,"feedback_adm":false,"data_feedback_adm":null,"reativacao_efetivada":false,"data_reativacao":null,"data_primeira_solicitacao":null,"numero_tentativa":null,"valor_reativacao":null,"motivo":null,"valid_to":null,"valid_from":"2023-06-27T10:06:29.775729","gestao_code":"TESTE_FABIO_515a","status_type_gestao_reativacao_id":6,"reativacao_status_type_desc":"REATIVACAO FINALIZADA","boleto_id":171,"boleto_type_id":2,"linha_digitavel":"34197.85633 27527.208589 05290.060002 7 94020000083786","data_vencimento":"2023-07-05T00:00:00","valor":837.86,"data_pagamento":null,"valor_pago":null,"status_type_boleto_id":2,"boleto_status_type_desc":"PAGAMENTO CONFIRMADO","type_desc":"MULTA-JUROS","payment_desc":"GESTAO DE REATIVACOES"},{"gestao_reativacao_id":197,"cota_id":168,"cota_adm":"123321SANTANDER","grupo":"3053","contrato":"1231","data_de_transferencia":"2023-04-25T16:45:20","short_name":"SANTANDER","fundo_desc":"ATIVOS ESPECIAIS III - F.INVEST.DIR.CRED","num_cota_atual":"123","versao_cota_atual":null,"num_cota_reativacao":"524","versao_cota_reativacao":null,"reativacao_solicitada":true,"data_solicitacao":"2023-06-27T17:31:33.644000","feedback_adm":true,"data_feedback_adm":"2023-06-27T17:32:07.033000","reativacao_efetivada":false,"data_reativacao":null,"data_primeira_solicitacao":"2023-06-27","numero_tentativa":1,"valor_reativacao":null,"motivo":null,"valid_to":null,"valid_from":"2023-06-27T15:59:49.262325","gestao_code":"15cf0bdf-56aa-4605-b8d1-a5c4bdbda7a2","status_type_gestao_reativacao_id":6,"reativacao_status_type_desc":"REATIVACAO FINALIZADA","boleto_id":179,"boleto_type_id":4,"linha_digitavel":"23792.37403 90503.260920 51006.300209 8 93510000045784","data_vencimento":"2023-05-15T00:00:00","valor":457.84,"data_pagamento":null,"valor_pago":null,"status_type_boleto_id":2,"boleto_status_type_desc":"PAGAMENTO CONFIRMADO","type_desc":"REATIVACAO","payment_desc":"GESTAO DE REATIVACOES"},{"gestao_reativacao_id":204,"cota_id":88,"cota_adm":"30245804SANTANDER","grupo":"656","contrato":"TESTE_CONTRATO","data_de_transferencia":"2023-03-31T00:00:00","short_name":"SANTANDER","fundo_desc":"ATIVOS ESPECIAIS III - F.INVEST.DIR.CRED","num_cota_atual":"1","versao_cota_atual":null,"num_cota_reativacao":null,"versao_cota_reativacao":null,"reativacao_solicitada":false,"data_solicitacao":null,"feedback_adm":false,"data_feedback_adm":null,"reativacao_efetivada":false,"data_reativacao":null,"data_primeira_solicitacao":null,"numero_tentativa":null,"valor_reativacao":null,"motivo":null,"valid_to":null,"valid_from":"2023-06-28T13:06:47.157634","gestao_code":"8f42b2b6-9e20-4897-b187-3d073c03d30f","status_type_gestao_reativacao_id":6,"reativacao_status_type_desc":"REATIVACAO FINALIZADA","boleto_id":28,"boleto_type_id":4,"linha_digitavel":"34197.85625  40448.442042  05290.060002 1  93510000021663","data_vencimento":"2023-05-15T00:00:00","valor":216.63,"data_pagamento":null,"valor_pago":null,"status_type_boleto_id":2,"boleto_status_type_desc":"PAGAMENTO CONFIRMADO","type_desc":"REATIVACAO","payment_desc":"GESTAO DE REATIVACOES"},{"gestao_reativacao_id":203,"cota_id":87,"cota_adm":"30426482SANTANDER","grupo":"637","contrato":"30400448","data_de_transferencia":"2023-03-31T00:00:00","short_name":"SANTANDER","fundo_desc":"ATIVOS ESPECIAIS III - F.INVEST.DIR.CRED","num_cota_atual":"580734","versao_cota_atual":null,"num_cota_reativacao":"5123","versao_cota_reativacao":"00","reativacao_solicitada":true,"data_solicitacao":"2023-06-07T11:20:53.668000","feedback_adm":true,"data_feedback_adm":"2023-06-07T11:44:20.246000","reativacao_efetivada":false,"data_reativacao":"2023-03-06T00:00:00","data_primeira_solicitacao":"2023-06-05","numero_tentativa":2,"valor_reativacao":766.0,"motivo":null,"valid_to":null,"valid_from":"2023-06-28T13:21:36.616874","gestao_code":"testando_fabio_123","status_type_gestao_reativacao_id":6,"reativacao_status_type_desc":"REATIVACAO FINALIZADA","boleto_id":27,"boleto_type_id":4,"linha_digitavel":"23792.37403 95883.311961 49006.300203 4 93380000015266","data_vencimento":"2023-05-02T00:00:00","valor":152.66,"data_pagamento":null,"valor_pago":null,"status_type_boleto_id":2,"boleto_status_type_desc":"PAGAMENTO CONFIRMADO","type_desc":"REATIVACAO","payment_desc":"GESTAO DE REATIVACOES"},{"gestao_reativacao_id":203,"cota_id":87,"cota_adm":"30426482SANTANDER","grupo":"637","contrato":"30400448","data_de_transferencia":"2023-03-31T00:00:00","short_name":"SANTANDER","fundo_desc":"ATIVOS ESPECIAIS III - F.INVEST.DIR.CRED","num_cota_atual":"580734","versao_cota_atual":null,"num_cota_reativacao":"5123","versao_cota_reativacao":"00","reativacao_solicitada":true,"data_solicitacao":"2023-06-07T11:20:53.668000","feedback_adm":true,"data_feedback_adm":"2023-06-07T11:44:20.246000","reativacao_efetivada":false,"data_reativacao":"2023-03-06T00:00:00","data_primeira_solicitacao":"2023-06-05","numero_tentativa":2,... (set the log level to DEBUG or TRACE to see the full content) 
 </msg>
<msg timestamp="20230707 10:07:35.516" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20230707 10:07:35.110" endtime="20230707 10:07:35.516"/>
</kw>
<msg timestamp="20230707 10:07:35.516" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20230707 10:07:35.108" endtime="20230707 10:07:35.516"/>
</kw>
<kw name="Status Should Be" library="RequestsLibrary">
<arg>200</arg>
<arg>${resp}</arg>
<doc>Fails if response status code is different than the expected.</doc>
<status status="PASS" starttime="20230707 10:07:35.517" endtime="20230707 10:07:35.518"/>
</kw>
<kw name="Validate Json By Schema File" library="JSONLibrary">
<arg>${resp.json()}</arg>
<arg>${RETOOL_SCHEMAS}/get_reactivation.json</arg>
<doc>Validate json object by json schema file.
Arguments:
    - json_object: json as a dictionary object.
    - json_path: path to file with json schema</doc>
<status status="PASS" starttime="20230707 10:07:35.518" endtime="20230707 10:07:35.582"/>
</kw>
<tag>backend</tag>
<tag>reactivation</tag>
<tag>regressivo</tag>
<tag>retool</tag>
<status status="PASS" starttime="20230707 10:07:34.464" endtime="20230707 10:07:35.583"/>
</test>
<test id="s1-s1-s1-s1-s1-t2" name="Cenário 2: Patch Reactivation" line="21">
<kw name="Post request with x-api-key" library="retool_keywords">
<var>${post}</var>
<arg>type_name=ByPlanContemplationCarrego</arg>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Content-Type=application/json</arg>
<arg>x-api-key=${TOKEN}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20230707 10:07:35.587" level="INFO">${headers} = {'Content-Type': 'application/json', 'x-api-key': '1NrcncqyUG9oJ5hShJq0aafHfWcBWqFdPVBSpee6'}</msg>
<status status="PASS" starttime="20230707 10:07:35.587" endtime="20230707 10:07:35.587"/>
</kw>
<kw name="Load Json From File" library="JSONLibrary">
<var>${body}</var>
<arg>${BODY}[${type_name}]</arg>
<doc>Load JSON from file.</doc>
<msg timestamp="20230707 10:07:35.589" level="INFO">${body} = {'input': {'grupo': {'data_encerramento': '2032-06-05T00:00:00Z', 'adm': 'SANTANDER'}, 'valores_entrada': {'tipo': 'Transferencia', 'estrategia': 'CARREGO'}, 'cota': {'tipo_bem': 'IMOVEIS', 'grupo': '...</msg>
<status status="PASS" starttime="20230707 10:07:35.587" endtime="20230707 10:07:35.589"/>
</kw>
<if>
<branch type="IF" condition="&quot;${type_name}&quot; == &quot;ByPostPayment&quot;">
<kw name="Generate Boleto" library="utils">
<var>${boleto}</var>
<status status="NOT RUN" starttime="20230707 10:07:35.589" endtime="20230707 10:07:35.589"/>
</kw>
<kw name="Update Value To Json" library="JSONLibrary">
<var>${body}</var>
<arg>${body}</arg>
<arg>$.linha_digitavel</arg>
<arg>${boleto}</arg>
<doc>Update value to JSON using JSONPath</doc>
<status status="NOT RUN" starttime="20230707 10:07:35.590" endtime="20230707 10:07:35.590"/>
</kw>
<status status="NOT RUN" starttime="20230707 10:07:35.589" endtime="20230707 10:07:35.590"/>
</branch>
<status status="PASS" starttime="20230707 10:07:35.589" endtime="20230707 10:07:35.590"/>
</if>
<if>
<branch type="IF" condition="&quot;${type_name}&quot; == &quot;ByPlanContemplation&quot;">
<kw name="Generate uuid quota" library="utils">
<var>${cota_adm}</var>
<status status="NOT RUN" starttime="20230707 10:07:35.590" endtime="20230707 10:07:35.590"/>
</kw>
<kw name="Update Value To Json" library="JSONLibrary">
<var>${body}</var>
<arg>${body}</arg>
<arg>$.input.cota.cota_adm</arg>
<arg>${cota_adm}</arg>
<doc>Update value to JSON using JSONPath</doc>
<status status="NOT RUN" starttime="20230707 10:07:35.590" endtime="20230707 10:07:35.590"/>
</kw>
<kw name="Update Value To Json" library="JSONLibrary">
<var>${body}</var>
<arg>${body}</arg>
<arg>$.cota_adm</arg>
<arg>${cota_adm}</arg>
<doc>Update value to JSON using JSONPath</doc>
<status status="NOT RUN" starttime="20230707 10:07:35.590" endtime="20230707 10:07:35.590"/>
</kw>
<status status="NOT RUN" starttime="20230707 10:07:35.590" endtime="20230707 10:07:35.590"/>
</branch>
<status status="PASS" starttime="20230707 10:07:35.590" endtime="20230707 10:07:35.590"/>
</if>
<kw name="Create Session" library="RequestsLibrary">
<arg>alias=post_request</arg>
<arg>url=${BPM_BASE}</arg>
<arg>headers=${headers}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20230707 10:07:35.591" level="INFO">Creating Session using : alias=post_request, url=https://staging.bazardoconsorcio.com.br, headers={'Content-Type': 'application/json', 'x-api-key': '1NrcncqyUG9oJ5hShJq0aafHfWcBWqFdPVBSpee6'},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20230707 10:07:35.590" endtime="20230707 10:07:35.591"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>alias=post_request</arg>
<arg>url=${URI}[${type_name}]</arg>
<arg>json=${body}</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20230707 10:07:36.015" level="INFO">POST Request : url=https://hexa.bazar-sandbox.technology/plan_of_contemplation 
 path_url=/plan_of_contemplation 
 headers={'User-Agent': 'python-requests/2.28.2', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'x-api-key': '1NrcncqyUG9oJ5hShJq0aafHfWcBWqFdPVBSpee6', 'Content-Length': '1108'} 
 body=b'{"input": {"grupo": {"data_encerramento": "2032-06-05T00:00:00Z", "adm": "SANTANDER"}, "valores_entrada": {"tipo": "Transferencia", "estrategia": "CARREGO"}, "cota": {"tipo_bem": "IMOVEIS", "grupo": "3053", "cota_adm": "123SANTANDERteste3", "uuid_adm": "30118052", "contrato": "12313223", "cota": "1002"}, "data_transferencia": "2023-04-25T16:45:20Z", "fundo": "ATIVOS ESPECIAIS III", "cota_bem": {"data_info": "2023-05-05T00:00:00Z", "valor_bem": "283686.9"}, "cota_situacao": {"data_info": "2023-05-05T00:00:00Z", "situacao": "CANCELADA"}}, "decisao_manual": {"plano_bem": "TROCAR", "estrategia_final": "CONTEMPLACAO", "plano_lance": "LANCE"}, "cota": {"desembolso_total": "9324.85", "valor_do_bem_apos_troca": "184396.47", "com_troca_de_bem": true, "lance_grupo": 0.15}, "cota_adm": "123SANTANDERteste3", "created_at": "2023-05-25T17:09:44+00:00", "pdc": {"valor_recebimento": "47502.1342", "inflacao_mais": "0.126", "prazo": "3329", "cdi_prazo_cota": "0.124", "tir": "0.1954", "data_recebimento": "2032-06-05", "inflacao": "0.060958", "lucro": "38177.2842", "spread": "0.0636", "valor_lance": "1231.12"}}' 
 </msg>
<msg timestamp="20230707 10:07:36.016" level="INFO">POST Response : url=https://hexa.bazar-sandbox.technology/plan_of_contemplation 
 status=200, reason=OK 
 headers={'Content-Type': 'application/json', 'Content-Length': '676', 'Connection': 'keep-alive', 'Date': 'Fri, 07 Jul 2023 13:07:34 GMT', 'x-amzn-RequestId': '1834f7b6-231a-42c8-bae5-1c7e85d8c909', 'x-amzn-Remapped-content-length': '676', 'x-amz-apigw-id': 'HscjmH6mIAMFbgw=', 'X-Amzn-Trace-Id': 'Root=1-64a80e16-253ec9e509ae07781c65d2f3;Sampled=0;lineage=695d9c57:0', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 9e31700f985ceee1721a2621b21c803a.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'GRU1-C1', 'X-Amz-Cf-Id': '-oittNLYaoxnJoFoFNTtYURLnUVaTENKbl8A3bSrSxMJIOW9pzgKxg=='} 
 body={"created_at":"2023-07-07T13:07:34.947083","modified_at":"2023-07-07T13:07:34.947094","deleted_at":null,"created_by":1,"modified_by":1,"deleted_by":null,"is_deleted":false,"plano_de_contemplacao_id":196,"cota_id":259,"estrategia_final":"CONTEMPLACAO","plano_bem":"TROCAR","plano_lance":"LANCE","tir":0.1954,"spread":0.0636,"lucro":38177.28,"data_plano_de_contemplacao":"2023-05-25T17:09:44","valid_from":"2023-07-07T13:07:34.947102","valid_to":null,"pdc_id":"123SANTANDERteste32023-05-25 17:09:44+00:00","prazo":3329,"situacao_cota":"A REATIVAR","desembolso_total":9324.85,"valor_lance":1231.12,"percentual_lance_total":0.15,"lance_embutido":null,"lance_recurso_proprio":null} 
 </msg>
<msg timestamp="20230707 10:07:36.016" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20230707 10:07:35.591" endtime="20230707 10:07:36.016"/>
</kw>
<msg timestamp="20230707 10:07:36.016" level="INFO">${post} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20230707 10:07:35.586" endtime="20230707 10:07:36.016"/>
</kw>
<kw name="Get request with x-api-key" library="retool_keywords">
<var>${get}</var>
<arg>type_name=ByGetReactivation</arg>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Content-Type=application/json</arg>
<arg>x-api-key=${TOKEN}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20230707 10:07:36.018" level="INFO">${headers} = {'Content-Type': 'application/json', 'x-api-key': '1NrcncqyUG9oJ5hShJq0aafHfWcBWqFdPVBSpee6'}</msg>
<status status="PASS" starttime="20230707 10:07:36.017" endtime="20230707 10:07:36.018"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<arg>alias=get_request</arg>
<arg>url=${BPM_BASE}</arg>
<arg>headers=${headers}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20230707 10:07:36.019" level="INFO">Creating Session using : alias=get_request, url=https://staging.bazardoconsorcio.com.br, headers={'Content-Type': 'application/json', 'x-api-key': '1NrcncqyUG9oJ5hShJq0aafHfWcBWqFdPVBSpee6'},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20230707 10:07:36.018" endtime="20230707 10:07:36.020"/>
</kw>
<kw name="GET On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>alias=get_request</arg>
<arg>url=${URI}[${type_name}]</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<msg timestamp="20230707 10:07:36.433" level="INFO">GET Request : url=https://hexa.bazar-sandbox.technology/reactivation 
 path_url=/reactivation 
 headers={'User-Agent': 'python-requests/2.28.2', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'x-api-key': '1NrcncqyUG9oJ5hShJq0aafHfWcBWqFdPVBSpee6'} 
 body=None 
 </msg>
<msg timestamp="20230707 10:07:36.434" level="INFO">GET Response : url=https://hexa.bazar-sandbox.technology/reactivation 
 status=200, reason=OK 
 headers={'Content-Type': 'application/json', 'Content-Length': '39096', 'Connection': 'keep-alive', 'Date': 'Fri, 07 Jul 2023 13:07:35 GMT', 'x-amzn-RequestId': 'd73444b2-9836-4cc3-84c9-1d47627ed9fb', 'x-amzn-Remapped-content-length': '39096', 'x-amz-apigw-id': 'HscjqGJuIAMFXSA=', 'X-Amzn-Trace-Id': 'Root=1-64a80e17-77cc4abe2320a87360c77d09;Sampled=0;lineage=695d9c57:0', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 5ce364e30dcfb61805012dae39f02ed4.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'GRU1-C1', 'X-Amz-Cf-Id': '9RaQ9EYVuVPHT3XxCUSOvHptBMpQelBPLHL8tPsmD-dUdOxELivUxQ=='} 
 body=[{"gestao_reativacao_id":239,"cota_id":103,"cota_adm":"4000403669-1202400PORTO_SEGURO","grupo":"PF111","contrato":"4000169402","data_de_transferencia":"2022-08-16T00:00:00","short_name":"PORTO_SEGURO","fundo_desc":"ATIVOS ESPECIAIS II - F.INVEST.DIR.CRED","num_cota_atual":"35","versao_cota_atual":null,"num_cota_reativacao":"123","versao_cota_reativacao":null,"reativacao_solicitada":true,"data_solicitacao":"2023-06-30T14:46:17.348000","feedback_adm":true,"data_feedback_adm":"2023-06-30T19:12:32.435000","reativacao_efetivada":false,"data_reativacao":null,"data_primeira_solicitacao":"2023-06-19","numero_tentativa":2,"valor_reativacao":null,"motivo":null,"valid_to":null,"valid_from":"2023-07-06T18:12:57.888043","gestao_code":"2a943de5-007f-4493-b7b1-409c8513ac11","status_type_gestao_reativacao_id":7,"reativacao_status_type_desc":"ERRO NO PAGAMENTO","boleto_id":339,"boleto_type_id":4,"linha_digitavel":"34658156334182716777905290060002794170000083786","data_vencimento":"2023-07-20T00:00:00","valor":837.86,"data_pagamento":null,"valor_pago":null,"status_type_boleto_id":3,"boleto_status_type_desc":"ERRO NO PAGAMENTO","type_desc":"REATIVACAO","payment_desc":"GESTAO DE REATIVACOES"},{"gestao_reativacao_id":239,"cota_id":103,"cota_adm":"4000403669-1202400PORTO_SEGURO","grupo":"PF111","contrato":"4000169402","data_de_transferencia":"2022-08-16T00:00:00","short_name":"PORTO_SEGURO","fundo_desc":"ATIVOS ESPECIAIS II - F.INVEST.DIR.CRED","num_cota_atual":"35","versao_cota_atual":null,"num_cota_reativacao":"123","versao_cota_reativacao":null,"reativacao_solicitada":true,"data_solicitacao":"2023-06-30T14:46:17.348000","feedback_adm":true,"data_feedback_adm":"2023-06-30T19:12:32.435000","reativacao_efetivada":false,"data_reativacao":null,"data_primeira_solicitacao":"2023-06-19","numero_tentativa":2,"valor_reativacao":null,"motivo":null,"valid_to":null,"valid_from":"2023-07-06T18:03:29.005873","gestao_code":"2a943de5-007f-4493-b7b1-409c8513ac11","status_type_gestao_reativacao_id":7,"reativacao_status_type_desc":"ERRO NO PAGAMENTO","boleto_id":258,"boleto_type_id":2,"linha_digitavel":"35296791234452743458905290060002794020000083786","data_vencimento":"2023-07-05T00:00:00","valor":837.86,"data_pagamento":null,"valor_pago":null,"status_type_boleto_id":1,"boleto_status_type_desc":"PAGAMENTO SOLICITADO","type_desc":"MULTA-JUROS","payment_desc":"GESTAO DE REATIVACOES"},{"gestao_reativacao_id":248,"cota_id":221,"cota_adm":"15144VOLKSWAGEN","grupo":"40687","contrato":"101","data_de_transferencia":"2023-04-25T16:45:20","short_name":"VOLKSWAGEN","fundo_desc":"ATIVOS ESPECIAIS III - F.INVEST.DIR.CRED","num_cota_atual":"9","versao_cota_atual":null,"num_cota_reativacao":"5","versao_cota_reativacao":"00","reativacao_solicitada":false,"data_solicitacao":"2023-03-06T00:00:00","feedback_adm":false,"data_feedback_adm":"2023-03-06T00:00:00","reativacao_efetivada":false,"data_reativacao":"2023-03-06T00:00:00","data_primeira_solicitacao":"2023-07-05","numero_tentativa":1,"valor_reativacao":766.0,"motivo":null,"valid_to":null,"valid_from":"2023-07-05T14:43:41.218687","gestao_code":"f388f7d8-cdcf-4c52-a4b4-91abda46f741","status_type_gestao_reativacao_id":1,"reativacao_status_type_desc":"SOLICITAR REATIVACAO","boleto_id":286,"boleto_type_id":4,"linha_digitavel":"34155856337641343458905290060002794150000083786","data_vencimento":"2023-07-18T00:00:00","valor":837.86,"data_pagamento":null,"valor_pago":null,"status_type_boleto_id":2,"boleto_status_type_desc":"PAGAMENTO CONFIRMADO","type_desc":"REATIVACAO","payment_desc":"GESTAO DE REATIVACOES"},{"gestao_reativacao_id":247,"cota_id":55,"cota_adm":"30027073SANTANDER","grupo":"3047","contrato":"30057015","data_de_transferencia":"2023-02-13T00:00:00","short_name":"SANTANDER","fundo_desc":"ATIVOS ESPECIAIS III - F.INVEST.DIR.CRED","num_cota_atual":"55123","versao_cota_atual":null,"num_cota_reativacao":"5","versao_cota_reativacao":"00","reativacao_solicitada":false,"data_solicitacao":"2023-03-06T00:00:00","feedback_adm":false,"data_feedback_adm":"2023-03-06T00:00:00","reativacao_efetivada":false,"data_reativacao":"2023-03-06T00:00:00","data_primeira_solicitacao":"2023-06-30","numero_tentativa":1,"valor_reativacao":766.0,"motivo":null,"valid_to":null,"valid_from":"2023-06-30T22:05:11.544652","gestao_code":"5555e5db-5f87-4e5c-8a84-ced5d53f521e","status_type_gestao_reativacao_id":1,"reativacao_status_type_desc":"SOLICITAR REATIVACAO","boleto_id":274,"boleto_type_id":4,"linha_digitavel":"03399835875320000004944157501014294070000055735","data_vencimento":"2023-07-10T00:00:00","valor":557.35,"data_pagamento":null,"valor_pago":null,"status_type_boleto_id":5,"boleto_status_type_desc":"SOLICITAR PAGAMENTO","type_desc":"REATIVACAO","payment_desc":"GESTAO DE REATIVACOES"},{"gestao_reativacao_id":192,"cota_id":159,"cota_adm":"123SANTANDERtestes","grupo":"3053","contrato":"12313223","data_de_transferencia":"2023-04-25T16:45:20","short_name":"SANTANDER","fundo_desc":"ATIVOS ESPECIAIS III - F.INVEST.DIR.CRED","num_cota_atual":"1001","versao_cota_atual":null,"num_cota_reativacao":null,"versao_cota_reativacao":null,"reativacao_solicitada":false,"data_solicitacao":null,"feedback_adm":false,"data_feedback_adm":null,"reativacao_efetivada":false,"data_reativacao":null,"data_primeira_solicitacao":null,"numero_tentativa":null,"valor_reativacao":null,"motivo":null,"valid_to":null,"valid_from":"2023-06-27T10:06:29.775729","gestao_code":"TESTE_FABIO_515a","status_type_gestao_reativacao_id":6,"reativacao_status_type_desc":"REATIVACAO FINALIZADA","boleto_id":171,"boleto_type_id":2,"linha_digitavel":"34197.85633 27527.208589 05290.060002 7 94020000083786","data_vencimento":"2023-07-05T00:00:00","valor":837.86,"data_pagamento":null,"valor_pago":null,"status_type_boleto_id":2,"boleto_status_type_desc":"PAGAMENTO CONFIRMADO","type_desc":"MULTA-JUROS","payment_desc":"GESTAO DE REATIVACOES"},{"gestao_reativacao_id":197,"cota_id":168,"cota_adm":"123321SANTANDER","grupo":"3053","contrato":"1231","data_de_transferencia":"2023-04-25T16:45:20","short_name":"SANTANDER","fundo_desc":"ATIVOS ESPECIAIS III - F.INVEST.DIR.CRED","num_cota_atual":"123","versao_cota_atual":null,"num_cota_reativacao":"524","versao_cota_reativacao":null,"reativacao_solicitada":true,"data_solicitacao":"2023-06-27T17:31:33.644000","feedback_adm":true,"data_feedback_adm":"2023-06-27T17:32:07.033000","reativacao_efetivada":false,"data_reativacao":null,"data_primeira_solicitacao":"2023-06-27","numero_tentativa":1,"valor_reativacao":null,"motivo":null,"valid_to":null,"valid_from":"2023-06-27T15:59:49.262325","gestao_code":"15cf0bdf-56aa-4605-b8d1-a5c4bdbda7a2","status_type_gestao_reativacao_id":6,"reativacao_status_type_desc":"REATIVACAO FINALIZADA","boleto_id":179,"boleto_type_id":4,"linha_digitavel":"23792.37403 90503.260920 51006.300209 8 93510000045784","data_vencimento":"2023-05-15T00:00:00","valor":457.84,"data_pagamento":null,"valor_pago":null,"status_type_boleto_id":2,"boleto_status_type_desc":"PAGAMENTO CONFIRMADO","type_desc":"REATIVACAO","payment_desc":"GESTAO DE REATIVACOES"},{"gestao_reativacao_id":204,"cota_id":88,"cota_adm":"30245804SANTANDER","grupo":"656","contrato":"TESTE_CONTRATO","data_de_transferencia":"2023-03-31T00:00:00","short_name":"SANTANDER","fundo_desc":"ATIVOS ESPECIAIS III - F.INVEST.DIR.CRED","num_cota_atual":"1","versao_cota_atual":null,"num_cota_reativacao":null,"versao_cota_reativacao":null,"reativacao_solicitada":false,"data_solicitacao":null,"feedback_adm":false,"data_feedback_adm":null,"reativacao_efetivada":false,"data_reativacao":null,"data_primeira_solicitacao":null,"numero_tentativa":null,"valor_reativacao":null,"motivo":null,"valid_to":null,"valid_from":"2023-06-28T13:06:47.157634","gestao_code":"8f42b2b6-9e20-4897-b187-3d073c03d30f","status_type_gestao_reativacao_id":6,"reativacao_status_type_desc":"REATIVACAO FINALIZADA","boleto_id":28,"boleto_type_id":4,"linha_digitavel":"34197.85625  40448.442042  05290.060002 1  93510000021663","data_vencimento":"2023-05-15T00:00:00","valor":216.63,"data_pagamento":null,"valor_pago":null,"status_type_boleto_id":2,"boleto_status_type_desc":"PAGAMENTO CONFIRMADO","type_desc":"REATIVACAO","payment_desc":"GESTAO DE REATIVACOES"},{"gestao_reativacao_id":203,"cota_id":87,"cota_adm":"30426482SANTANDER","grupo":"637","contrato":"30400448","data_de_transferencia":"2023-03-31T00:00:00","short_name":"SANTANDER","fundo_desc":"ATIVOS ESPECIAIS III - F.INVEST.DIR.CRED","num_cota_atual":"580734","versao_cota_atual":null,"num_cota_reativacao":"5123","versao_cota_reativacao":"00","reativacao_solicitada":true,"data_solicitacao":"2023-06-07T11:20:53.668000","feedback_adm":true,"data_feedback_adm":"2023-06-07T11:44:20.246000","reativacao_efetivada":false,"data_reativacao":"2023-03-06T00:00:00","data_primeira_solicitacao":"2023-06-05","numero_tentativa":2,"valor_reativacao":766.0,"motivo":null,"valid_to":null,"valid_from":"2023-06-28T13:21:36.616874","gestao_code":"testando_fabio_123","status_type_gestao_reativacao_id":6,"reativacao_status_type_desc":"REATIVACAO FINALIZADA","boleto_id":27,"boleto_type_id":4,"linha_digitavel":"23792.37403 95883.311961 49006.300203 4 93380000015266","data_vencimento":"2023-05-02T00:00:00","valor":152.66,"data_pagamento":null,"valor_pago":null,"status_type_boleto_id":2,"boleto_status_type_desc":"PAGAMENTO CONFIRMADO","type_desc":"REATIVACAO","payment_desc":"GESTAO DE REATIVACOES"},{"gestao_reativacao_id":203,"cota_id":87,"cota_adm":"30426482SANTANDER","grupo":"637","contrato":"30400448","data_de_transferencia":"2023-03-31T00:00:00","short_name":"SANTANDER","fundo_desc":"ATIVOS ESPECIAIS III - F.INVEST.DIR.CRED","num_cota_atual":"580734","versao_cota_atual":null,"num_cota_reativacao":"5123","versao_cota_reativacao":"00","reativacao_solicitada":true,"data_solicitacao":"2023-06-07T11:20:53.668000","feedback_adm":true,"data_feedback_adm":"2023-06-07T11:44:20.246000","reativacao_efetivada":false,"data_reativacao":"2023-03-06T00:00:00","data_primeira_solicitacao":"2023-06-05","numero_tentativa":2,... (set the log level to DEBUG or TRACE to see the full content) 
 </msg>
<msg timestamp="20230707 10:07:36.434" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20230707 10:07:36.020" endtime="20230707 10:07:36.434"/>
</kw>
<msg timestamp="20230707 10:07:36.435" level="INFO">${get} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20230707 10:07:36.017" endtime="20230707 10:07:36.435"/>
</kw>
<kw name="Patch request with x-api-key" library="retool_keywords">
<var>${resp}</var>
<arg>type_name=ByPatchReactivation</arg>
<arg>id=${get.json()}[2][gestao_reativacao_id]</arg>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Content-Type=application/json</arg>
<arg>x-api-key=${TOKEN}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20230707 10:07:36.440" level="INFO">${headers} = {'Content-Type': 'application/json', 'x-api-key': '1NrcncqyUG9oJ5hShJq0aafHfWcBWqFdPVBSpee6'}</msg>
<status status="PASS" starttime="20230707 10:07:36.439" endtime="20230707 10:07:36.440"/>
</kw>
<kw name="Load Json From File" library="JSONLibrary">
<var>${body}</var>
<arg>${BODY}[${type_name}]</arg>
<doc>Load JSON from file.</doc>
<msg timestamp="20230707 10:07:36.443" level="INFO">${body} = {'boleto_id': 1, 'boleto_type_id': 2, 'linha_digitavel': 'TESTE', 'data_vencimento': '2023-03-06T00:00:00', 'valor': 550.0, 'data_pagamento': '2023-03-06T00:00:00', 'valor_pago': 550.0, 'status_type_b...</msg>
<status status="PASS" starttime="20230707 10:07:36.440" endtime="20230707 10:07:36.443"/>
</kw>
<if>
<branch type="IF" condition="&quot;${type_name}&quot; == &quot;ByPatchAssetChanges&quot;">
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;TROCA SOLICITADA&quot;">
<kw name="Update Value To Json" library="JSONLibrary">
<var>${body}</var>
<arg>${body}</arg>
<arg>$.status_bem_atual_desc</arg>
<arg>${status}</arg>
<doc>Update value to JSON using JSONPath</doc>
<status status="NOT RUN" starttime="20230707 10:07:36.444" endtime="20230707 10:07:36.444"/>
</kw>
<kw name="Delete Object From Json" library="JSONLibrary">
<var>${body}</var>
<arg>${body}</arg>
<arg>$.bem_resposta_adm</arg>
<doc>Delete Object From JSON using json_path</doc>
<status status="NOT RUN" starttime="20230707 10:07:36.444" endtime="20230707 10:07:36.444"/>
</kw>
<status status="NOT RUN" starttime="20230707 10:07:36.443" endtime="20230707 10:07:36.444"/>
</branch>
<branch type="ELSE IF" condition="&quot;${status}&quot; == &quot;BEM CORRETO&quot;">
<kw name="Update Value To Json" library="JSONLibrary">
<var>${body}</var>
<arg>${body}</arg>
<arg>$.status_bem_atual_desc</arg>
<arg>${status}</arg>
<doc>Update value to JSON using JSONPath</doc>
<status status="NOT RUN" starttime="20230707 10:07:36.444" endtime="20230707 10:07:36.444"/>
</kw>
<kw name="Update Value To Json" library="JSONLibrary">
<var>${body}</var>
<arg>${body}</arg>
<arg>$.bem_resposta_adm</arg>
<arg>25000</arg>
<doc>Update value to JSON using JSONPath</doc>
<status status="NOT RUN" starttime="20230707 10:07:36.444" endtime="20230707 10:07:36.445"/>
</kw>
<status status="NOT RUN" starttime="20230707 10:07:36.444" endtime="20230707 10:07:36.445"/>
</branch>
<branch type="ELSE IF" condition="&quot;${status}&quot; == &quot;TROCA APROVADA&quot;">
<kw name="Update Value To Json" library="JSONLibrary">
<var>${body}</var>
<arg>${body}</arg>
<arg>$.status_bem_atual_desc</arg>
<arg>${status}</arg>
<doc>Update value to JSON using JSONPath</doc>
<status status="NOT RUN" starttime="20230707 10:07:36.445" endtime="20230707 10:07:36.445"/>
</kw>
<kw name="Update Value To Json" library="JSONLibrary">
<var>${body}</var>
<arg>${body}</arg>
<arg>$.bem_resposta_adm</arg>
<arg>25000</arg>
<doc>Update value to JSON using JSONPath</doc>
<status status="NOT RUN" starttime="20230707 10:07:36.445" endtime="20230707 10:07:36.445"/>
</kw>
<status status="NOT RUN" starttime="20230707 10:07:36.445" endtime="20230707 10:07:36.445"/>
</branch>
<branch type="ELSE IF" condition="&quot;${status}&quot; == &quot;ANALISE PRICING&quot;">
<kw name="Update Value To Json" library="JSONLibrary">
<var>${body}</var>
<arg>${body}</arg>
<arg>$.status_bem_atual_desc</arg>
<arg>${status}</arg>
<doc>Update value to JSON using JSONPath</doc>
<status status="NOT RUN" starttime="20230707 10:07:36.445" endtime="20230707 10:07:36.445"/>
</kw>
<kw name="Delete Object From Json" library="JSONLibrary">
<var>${body}</var>
<arg>${body}</arg>
<arg>$.bem_resposta_adm</arg>
<doc>Delete Object From JSON using json_path</doc>
<status status="NOT RUN" starttime="20230707 10:07:36.446" endtime="20230707 10:07:36.446"/>
</kw>
<status status="NOT RUN" starttime="20230707 10:07:36.445" endtime="20230707 10:07:36.446"/>
</branch>
<branch type="ELSE IF" condition="&quot;${status}&quot; == &quot;SOLICITAR TROCA&quot;">
<kw name="Update Value To Json" library="JSONLibrary">
<var>${body}</var>
<arg>${body}</arg>
<arg>$.status_bem_atual_desc</arg>
<arg>${status}</arg>
<doc>Update value to JSON using JSONPath</doc>
<status status="NOT RUN" starttime="20230707 10:07:36.446" endtime="20230707 10:07:36.446"/>
</kw>
<kw name="Delete Object From Json" library="JSONLibrary">
<var>${body}</var>
<arg>${body}</arg>
<arg>$.bem_resposta_adm</arg>
<doc>Delete Object From JSON using json_path</doc>
<status status="NOT RUN" starttime="20230707 10:07:36.447" endtime="20230707 10:07:36.447"/>
</kw>
<status status="NOT RUN" starttime="20230707 10:07:36.446" endtime="20230707 10:07:36.447"/>
</branch>
<branch type="ELSE IF" condition="&quot;${status}&quot; == &quot;TROCA RECUSADA&quot;">
<kw name="Update Value To Json" library="JSONLibrary">
<var>${body}</var>
<arg>${body}</arg>
<arg>$.status_bem_atual_desc</arg>
<arg>${status}</arg>
<doc>Update value to JSON using JSONPath</doc>
<status status="NOT RUN" starttime="20230707 10:07:36.447" endtime="20230707 10:07:36.447"/>
</kw>
<kw name="Delete Object From Json" library="JSONLibrary">
<var>${body}</var>
<arg>${body}</arg>
<arg>$.bem_resposta_adm</arg>
<doc>Delete Object From JSON using json_path</doc>
<status status="NOT RUN" starttime="20230707 10:07:36.448" endtime="20230707 10:07:36.448"/>
</kw>
<status status="NOT RUN" starttime="20230707 10:07:36.447" endtime="20230707 10:07:36.448"/>
</branch>
<branch type="ELSE IF" condition="&quot;${status}&quot; == &quot;TROCA EXPIRADA&quot;">
<kw name="Update Value To Json" library="JSONLibrary">
<var>${body}</var>
<arg>${body}</arg>
<arg>$.status_bem_atual_desc</arg>
<arg>${status}</arg>
<doc>Update value to JSON using JSONPath</doc>
<status status="NOT RUN" starttime="20230707 10:07:36.448" endtime="20230707 10:07:36.449"/>
</kw>
<kw name="Delete Object From Json" library="JSONLibrary">
<var>${body}</var>
<arg>${body}</arg>
<arg>$.bem_resposta_adm</arg>
<doc>Delete Object From JSON using json_path</doc>
<status status="NOT RUN" starttime="20230707 10:07:36.449" endtime="20230707 10:07:36.449"/>
</kw>
<status status="NOT RUN" starttime="20230707 10:07:36.448" endtime="20230707 10:07:36.449"/>
</branch>
<status status="NOT RUN" starttime="20230707 10:07:36.443" endtime="20230707 10:07:36.449"/>
</if>
<status status="NOT RUN" starttime="20230707 10:07:36.443" endtime="20230707 10:07:36.449"/>
</branch>
<status status="PASS" starttime="20230707 10:07:36.443" endtime="20230707 10:07:36.449"/>
</if>
<if>
<branch type="IF" condition="&quot;${type_name}&quot; == &quot;ByPatchPayment&quot;">
<kw name="Generate Boleto" library="utils">
<var>${boleto}</var>
<status status="NOT RUN" starttime="20230707 10:07:36.450" endtime="20230707 10:07:36.450"/>
</kw>
<kw name="Update Value To Json" library="JSONLibrary">
<var>${body}</var>
<arg>${body}</arg>
<arg>$.linha_digitavel</arg>
<arg>${boleto}</arg>
<doc>Update value to JSON using JSONPath</doc>
<status status="NOT RUN" starttime="20230707 10:07:36.450" endtime="20230707 10:07:36.450"/>
</kw>
<status status="NOT RUN" starttime="20230707 10:07:36.449" endtime="20230707 10:07:36.450"/>
</branch>
<status status="PASS" starttime="20230707 10:07:36.449" endtime="20230707 10:07:36.450"/>
</if>
<kw name="Create Session" library="RequestsLibrary">
<arg>alias=patch_request</arg>
<arg>url=${BPM_BASE}</arg>
<arg>headers=${headers}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20230707 10:07:36.452" level="INFO">Creating Session using : alias=patch_request, url=https://staging.bazardoconsorcio.com.br, headers={'Content-Type': 'application/json', 'x-api-key': '1NrcncqyUG9oJ5hShJq0aafHfWcBWqFdPVBSpee6'},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20230707 10:07:36.450" endtime="20230707 10:07:36.452"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${urls}</var>
<arg>"${type_name}" == "ByPatchAssetChanges"</arg>
<arg>${URI}[${type_name}]/${id}/asset_changes</arg>
<arg>"${type_name}" != "ByPatchAssetChanges"</arg>
<arg>${URI}[${type_name}]/${id}</arg>
<doc>Sets variable based on the given condition.</doc>
<kw name="Set Variable If" library="BuiltIn">
<arg>"${type_name}" != "ByPatchAssetChanges"</arg>
<arg>${URI}[${type_name}]/${id}</arg>
<doc>Sets variable based on the given condition.</doc>
<status status="PASS" starttime="20230707 10:07:36.453" endtime="20230707 10:07:36.453"/>
</kw>
<msg timestamp="20230707 10:07:36.454" level="INFO">${urls} = https://hexa.bazar-sandbox.technology/reactivation/248</msg>
<status status="PASS" starttime="20230707 10:07:36.452" endtime="20230707 10:07:36.454"/>
</kw>
<kw name="PATCH On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>alias=patch_request</arg>
<arg>url=${urls}</arg>
<arg>json=${body}</arg>
<doc>Sends a PATCH request on a previously created HTTP Session.</doc>
<msg timestamp="20230707 10:07:36.766" level="INFO">PATCH Request : url=https://hexa.bazar-sandbox.technology/reactivation/248 
 path_url=/reactivation/248 
 headers={'User-Agent': 'python-requests/2.28.2', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'x-api-key': '1NrcncqyUG9oJ5hShJq0aafHfWcBWqFdPVBSpee6', 'Content-Length': '1032'} 
 body=b'{"boleto_id": 1, "boleto_type_id": 2, "linha_digitavel": "TESTE", "data_vencimento": "2023-03-06T00:00:00", "valor": 550.0, "data_pagamento": "2023-03-06T00:00:00", "valor_pago": 550.0, "status_type_boleto_id": 1, "valid_from": "2023-05-29T16:38:22.907888", "valid_to": null, "boleto_status_type_desc": "PAGAMENTO SOLICITADO", "type_desc": "MULTA-JUROS", "payment_desc": "GESTAO DE REATIVACOES", "cota_id": 1, "grupo": "588", "contrato": "TESTE_CONTRATO", "short_name": "ITAU", "fundo_desc": "BAZAR DO CONSORCIO TECNOLOGIA LTDA", "num_cota_atual": "1", "versao_cota_atual": "1", "num_cota_reativacao": "5", "versao_cota_reativacao": "00", "reativacao_solicitada": false, "data_solicitacao": "2023-03-06T00:00:00", "feedback_adm": false, "data_feedback_adm": "2023-03-06T00:00:00", "reativacao_efetivada": false, "data_reativacao": "2023-03-06T00:00:00", "data_primeira_solicitacao": null, "numero_tentativa": 2, "valor_reativacao": 766.0, "status_type_gestao_reativacao_id": 6, "reativacao_status_type_desc": "SOLICITAR REATIVACAO"}' 
 </msg>
<msg timestamp="20230707 10:07:36.767" level="INFO">PATCH Response : url=https://hexa.bazar-sandbox.technology/reactivation/248 
 status=200, reason=OK 
 headers={'Content-Type': 'application/json', 'Content-Length': '767', 'Connection': 'keep-alive', 'Date': 'Fri, 07 Jul 2023 13:07:35 GMT', 'x-amzn-RequestId': '4ca081e6-e83c-4499-9306-f7bc7fccd358', 'x-amzn-Remapped-content-length': '767', 'x-amz-apigw-id': 'HscjvFYdoAMFtvA=', 'X-Amzn-Trace-Id': 'Root=1-64a80e17-738c8207642edaf76b121443;Sampled=0;lineage=695d9c57:0', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 72edd10a8060c70d07d0df3ad81cc712.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'GRU1-C1', 'X-Amz-Cf-Id': 'cGpuBbZHRU7mQIv8ybAi9PLrNbSGmgS2il0eFlcT-3Uo-JQs71uKWg=='} 
 body={"created_at":"2023-07-07T13:07:35.684440","modified_at":"2023-07-07T13:07:35.684453","deleted_at":null,"created_by":1,"modified_by":1,"deleted_by":null,"is_deleted":false,"gestao_reativacao_id":249,"cota_id":221,"status_type_gestao_reativacao_id":1,"num_cota_atual":"9","versao_cota_atual":null,"num_cota_reativacao":"5","versao_cota_reativacao":"00","reativacao_solicitada":false,"data_solicitacao":"2023-03-06T00:00:00","feedback_adm":false,"data_feedback_adm":"2023-03-06T00:00:00","reativacao_efetivada":false,"data_reativacao":"2023-03-06T00:00:00","valor_reativacao":766.0,"data_primeira_solicitacao":"2023-07-05","numero_tentativa":1,"motivo":null,"valid_from":"2023-05-29T16:38:22.907888","valid_to":null,"gestao_code":"f388f7d8-cdcf-4c52-a4b4-91abda46f741"} 
 </msg>
<msg timestamp="20230707 10:07:36.767" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20230707 10:07:36.454" endtime="20230707 10:07:36.767"/>
</kw>
<msg timestamp="20230707 10:07:36.767" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20230707 10:07:36.435" endtime="20230707 10:07:36.767"/>
</kw>
<kw name="Status Should Be" library="RequestsLibrary">
<arg>200</arg>
<arg>${resp}</arg>
<doc>Fails if response status code is different than the expected.</doc>
<status status="PASS" starttime="20230707 10:07:36.768" endtime="20230707 10:07:36.769"/>
</kw>
<kw name="Validate Json By Schema File" library="JSONLibrary">
<arg>${resp.json()}</arg>
<arg>${RETOOL_SCHEMAS}/patch_reactivation.json</arg>
<doc>Validate json object by json schema file.
Arguments:
    - json_object: json as a dictionary object.
    - json_path: path to file with json schema</doc>
<status status="PASS" starttime="20230707 10:07:36.769" endtime="20230707 10:07:36.774"/>
</kw>
<kw name="Should Not Be Equal" library="BuiltIn">
<arg>${get.json()}[0][gestao_reativacao_id]</arg>
<arg>${resp.json()}[gestao_reativacao_id]</arg>
<doc>Fails if the given objects are equal.</doc>
<status status="PASS" starttime="20230707 10:07:36.774" endtime="20230707 10:07:36.776"/>
</kw>
<tag>backend</tag>
<tag>reactivation</tag>
<tag>regressivo</tag>
<tag>retool</tag>
<status status="PASS" starttime="20230707 10:07:35.586" endtime="20230707 10:07:36.776"/>
</test>
<status status="PASS" starttime="20230707 10:07:32.746" endtime="20230707 10:07:36.778"/>
</suite>
<status status="PASS" starttime="20230707 10:07:32.740" endtime="20230707 10:07:36.780"/>
</suite>
<status status="PASS" starttime="20230707 10:07:32.730" endtime="20230707 10:07:36.782"/>
</suite>
<status status="PASS" starttime="20230707 10:07:32.724" endtime="20230707 10:07:36.785"/>
</suite>
<status status="PASS" starttime="20230707 10:07:32.682" endtime="20230707 10:07:36.788"/>
</suite>
<statistics>
<total>
<stat pass="2" fail="0" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="2" fail="0" skip="0">backend</stat>
<stat pass="2" fail="0" skip="0">reactivation</stat>
<stat pass="2" fail="0" skip="0">regressivo</stat>
<stat pass="2" fail="0" skip="0">retool</stat>
</tag>
<suite>
<stat pass="2" fail="0" skip="0" id="s1" name="automationQA">automationQA</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1" name="Tests">automationQA.Tests</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1-s1" name="Service">automationQA.Tests.Service</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1-s1-s1" name="Retool">automationQA.Tests.Service.Retool</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1-s1-s1-s1" name="Reactivation">automationQA.Tests.Service.Retool.Reactivation</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
